2020-04-09 14:30:23,600 INFO: Microblog startup [in /home/centvr/Documents/pyscript/microblog/app/__init__.py: 72]
2020-04-09 14:38:20,099 INFO: Microblog startup [in /home/centvr/Documents/pyscript/microblog/app/__init__.py: 72]
2020-04-09 14:38:58,547 ERROR: Exception on /api/users [GET] [in /home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py: 1891]
Traceback (most recent call last):
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py", line 2446, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py", line 1951, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py", line 1820, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py", line 1949, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py", line 1935, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/centvr/Documents/pyscript/microblog/app/api/users.py", line 11, in get_users
    page = request.args.get('page',1,type=int)
NameError: name 'request' is not defined
2020-04-09 14:39:40,300 INFO: Microblog startup [in /home/centvr/Documents/pyscript/microblog/app/__init__.py: 72]
2020-04-09 14:50:45,338 INFO: Microblog startup [in /home/centvr/Documents/pyscript/microblog/app/__init__.py: 72]
2020-04-09 15:11:26,043 INFO: Microblog startup [in /home/centvr/Documents/pyscript/microblog/app/__init__.py: 72]
2020-04-09 15:32:47,205 INFO: Microblog startup [in /home/centvr/Documents/pyscript/microblog/app/__init__.py: 72]
2020-04-09 15:33:35,706 ERROR: Exception on /api/users/5 [PUT] [in /home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py: 1891]
Traceback (most recent call last):
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py", line 2446, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py", line 1951, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py", line 1820, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py", line 1949, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py", line 1935, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/centvr/Documents/pyscript/microblog/app/api/users.py", line 56, in update_user
    if username in data and data['username'] != user.username and \
NameError: name 'username' is not defined
2020-04-09 15:35:10,010 INFO: Microblog startup [in /home/centvr/Documents/pyscript/microblog/app/__init__.py: 72]
2020-04-09 15:55:34,393 INFO: Microblog startup [in /home/centvr/Documents/pyscript/microblog/app/__init__.py: 72]
2020-04-09 15:55:46,966 INFO: Microblog startup [in /home/centvr/Documents/pyscript/microblog/app/__init__.py: 72]
2020-04-09 16:17:08,520 INFO: Microblog startup [in /home/centvr/Documents/pyscript/microblog/app/__init__.py: 72]
2020-04-09 16:18:15,281 ERROR: Exception on /api/tokens [POST] [in /home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py: 1891]
Traceback (most recent call last):
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py", line 2446, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py", line 1951, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py", line 1820, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py", line 1949, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py", line 1935, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask_httpauth.py", line 105, in decorated
    return f(*args, **kwargs)
  File "/home/centvr/Documents/pyscript/microblog/app/api/tokens.py", line 9, in get_token
    token = g.current_user.get_token()
  File "/home/centvr/Documents/pyscript/microblog/app/models.py", line 192, in get_token
    self.token = base.b64encode(os.urandom(24)).decode('utf-8')
NameError: name 'base' is not defined
2020-04-09 16:19:18,670 INFO: Microblog startup [in /home/centvr/Documents/pyscript/microblog/app/__init__.py: 72]
2020-04-09 16:33:57,203 INFO: Microblog startup [in /home/centvr/Documents/pyscript/microblog/app/__init__.py: 72]
2020-04-09 16:36:35,539 ERROR: Exception on /api/users/1 [GET] [in /home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py: 1891]
Traceback (most recent call last):
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py", line 2446, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py", line 1951, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py", line 1820, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py", line 1949, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py", line 1935, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask_httpauth.py", line 100, in decorated
    if not self.authenticate(auth, password):
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask_httpauth.py", line 265, in authenticate
    return self.verify_token_callback(token)
  File "/home/centvr/Documents/pyscript/microblog/app/api/auth.py", line 23, in verify_token
    g.current_user = User.check_token(token) if token else None
  File "/home/centvr/Documents/pyscript/microblog/app/models.py", line 203, in check_token
    if user is None or user.token_expiration < datetime.utcnow():
TypeError: '<' not supported between instances of 'NoneType' and 'datetime.datetime'
2020-04-09 16:55:30,902 INFO: Microblog startup [in /home/centvr/Documents/pyscript/microblog/app/__init__.py: 72]
2020-04-09 16:55:36,917 ERROR: Exception on /api/tokens [POST] [in /home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py: 1891]
Traceback (most recent call last):
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py", line 2446, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py", line 1951, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py", line 1820, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py", line 1949, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask/app.py", line 1935, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/centvr/Documents/pyscript/microblog/venv/lib64/python3.6/site-packages/flask_httpauth.py", line 105, in decorated
    return f(*args, **kwargs)
  File "/home/centvr/Documents/pyscript/microblog/app/api/tokens.py", line 9, in get_token
    token = g.current_user.get_token()
  File "/home/centvr/Documents/pyscript/microblog/app/models.py", line 190, in get_token
    if self.token and self.token_expiration >  now + timedelta(seconds=60):
TypeError: '>' not supported between instances of 'NoneType' and 'datetime.datetime'
2020-04-09 17:00:19,232 INFO: Microblog startup [in /home/centvr/Documents/pyscript/microblog/app/__init__.py: 72]
